@import url('https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Crimson+Pro:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  body {
    @apply bg-porch-50 text-porch-900;
    background-image: 
      radial-gradient(ellipse at 100% 0%, rgba(232, 122, 147, 0.03) 0%, transparent 50%),
      radial-gradient(ellipse at 0% 100%, rgba(107, 130, 85, 0.03) 0%, transparent 50%);
    min-height: 100vh;
  }
  
  h1, h2, h3, h4 {
    @apply font-serif font-semibold text-porch-800;
    letter-spacing: -0.02em;
  }
  
  /* Selection color */
  ::selection {
    @apply bg-azalea-200 text-azalea-900;
  }
}

@layer components {
  /* Veranda Card Style */
  .veranda-card {
    @apply bg-white/80 backdrop-blur-sm rounded-porch border border-porch-200 shadow-card;
    @apply transition-all duration-300 ease-out;
  }
  
  .veranda-card:hover {
    @apply shadow-porch -translate-y-0.5;
  }
  
  /* Porch Button */
  .porch-btn {
    @apply px-5 py-2.5 rounded-pill font-medium text-sm transition-all duration-200;
    @apply bg-oak-600 text-white shadow-porch;
  }
  
  .porch-btn:hover {
    @apply bg-oak-700 shadow-porch-lg -translate-y-0.5;
  }
  
  .porch-btn:active {
    @apply translate-y-0;
  }
  
  /* Secondary Button */
  .porch-btn-secondary {
    @apply px-5 py-2.5 rounded-pill font-medium text-sm transition-all duration-200;
    @apply bg-white text-oak-700 border border-oak-200;
  }
  
  .porch-btn-secondary:hover {
    @apply bg-oak-50 border-oak-300;
  }
  
  /* Ghost Button */
  .porch-btn-ghost {
    @apply px-4 py-2 rounded-pill font-medium text-sm transition-all duration-200;
    @apply text-porch-600 hover:text-oak-700 hover:bg-oak-50;
  }
  
  /* Handwritten text for community content */
  .handwritten {
    @apply font-hand text-xl leading-relaxed text-porch-700;
  }
  
  /* Map marker popup */
  .map-popup {
    @apply font-sans;
  }
  
  .map-popup .mapboxgl-popup-content {
    @apply bg-white/95 backdrop-blur rounded-xl p-4 shadow-porch-lg border border-porch-100;
    font-family: 'Inter', sans-serif;
  }
  
  .map-popup .mapboxgl-popup-tip {
    @apply border-t-white/95;
  }
  
  /* Iron fence divider */
  .fence-divider {
    @apply h-px bg-gradient-to-r from-transparent via-porch-300 to-transparent my-6;
  }
  
  /* Brick pattern accent */
  .brick-accent {
    background-image: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(219, 95, 75, 0.05) 2px,
      rgba(219, 95, 75, 0.05) 4px
    );
  }
  
  /* Location pulse animation */
  .location-pulse {
    @apply relative;
  }
  
  .location-pulse::before {
    content: '';
    @apply absolute inset-0 rounded-full bg-oak-400;
    animation: pulse-ring 2s ease-out infinite;
  }
  
  @keyframes pulse-ring {
    0% {
      transform: scale(1);
      opacity: 0.5;
    }
    100% {
      transform: scale(2.5);
      opacity: 0;
    }
  }
}

/* Mapbox overrides */
.mapboxgl-map {
  font-family: 'Inter', sans-serif;
}

.mapboxgl-ctrl-group {
  @apply rounded-xl overflow-hidden shadow-porch border border-porch-200;
}

.mapboxgl-ctrl-group button {
  @apply transition-colors duration-200;
}

.mapboxgl-ctrl-group button:hover {
  @apply bg-oak-50;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-porch-100 rounded-full;
}

::-webkit-scrollbar-thumb {
  @apply bg-porch-300 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-porch-400;
}

/* Focus styles */
*:focus-visible {
  @apply outline-none ring-2 ring-oak-400 ring-offset-2 ring-offset-porch-50;
}

/* Loading shimmer */
.shimmer {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.4) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
